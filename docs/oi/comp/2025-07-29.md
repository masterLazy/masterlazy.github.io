# 模拟赛-2025-07-29

$100+50+20+1=171pts.$

# T2 求解

纯数学题，唉。这里只写一下关键的步骤。一看这个 $n\le10^9$，肯定是 $O(1)$ 没跑了。

题目中要求的 $\text{ans}$ 可以转化为：

$$
\text{ans}=[\sum_{k=1}^m{(2k-1)\times10^{k-1}\times9}]\bmod M=9[\sum_{k=1}^m{(2k-1)\times10^{k-1}]\bmod M.}
$$

其中 $M=233,333$，$m=\frac{1}{2}(n+1)$。注意，$2,333$ 是素数，$23,333$ 也是素数，但是 $233,333$ 不是素数。。

我们盯住 $\sum$ 开头的那串，首先变形成**等比数列**： 

记：$x=\sum_{k=1}^{m}(2k-1)\times10^{k-1}.$

$10x=\sum_{k=1}^{m}(2k-1)\times10^k=(2m-1)\times10^m+\sum_{k=1}^{m-1}(2k-1)\times10^{k}.$

而 $\sum_{k=1}^{m-1}(2k-1)\times10^{k}=\sum_{k=2}^{m}(2k-3)\times10^{k-1}.$（换元，把 $k$ 换成 $k-1$）

$9x=10x-x=(2m-1)\times10^m+[\sum_{k=2}^m(2k-3)\times10^{k-1}-\sum_{k=1}^m(2k-1)\times10^{k-1}].$

我们再关注后面中括号的式子，变形：$=1+\sum_{k=2}^m[(2k-3)-(2k-1)]\times10^{k-1}=1-2\sum_{k=2}^m10^{k-1}=1-2\sum_{k=1}^{m-1}10^k.$

所以：$9x=(2m-1)\times10^m-2\sum_{k=1}^{m-1}10^k-1.$

然后用**裂项相消法**来计算 $\sum10^k$：

记 $y=\sum_{k=1}^{m-1}10^k.$

$10y=\sum_{k=2}^{m}10^k.$

$9y=10y-9y=\sum_{k=2}^m10^k-\sum_{k=1}^{m-1}10^k=10^m-10.$

把这个式子除以 9 就得到 $y$。

**让我们把所有东西撮一块儿：**

$$
\text{ans}=(2m-1)\times10^m-\frac{2}{9}(10^m-10)\bmod M
$$

我去，还要除以 9，那么我们求**逆元**吧。（注意 $M=233,333$ 不是素数，不能用费马小定理。）
